
多线程一定快

合理利用资源  CPU IO 

不一定
原因 上下文切换  

# 并发问题


# 上下文切换



CPU通过给每个线程分配CPU时间片来实现支持多线程执行
在切换时
需要提前会保存上一个任务的状态，以便下次切换回这个任务时，可以再加载这
个任务的状态。
所以任务从保存到再加载的过程就是一次上下文切换



# 测试上下文切换次数和时长       

使用Lmbench3
可以测量上下文切换的时使用vmstat可以测量上下文切换的

# 如何减少上下文切换

减少上下文切换的方法有无锁并发编程、CAS算法、使用最少线程和使用协程。

# 死锁


# 资源

在并发编程中，将代码执行速度加快的原则是将代码中串行执行的部分变成并发执行，
但是如果将某段串行的代码并发执行，因为受限于资源，仍然在串行执行，这时候程序不仅不
会加快执行，反而会更慢，因为增加了上下文切换和资源调度的时间

数据库和Socket




http://ifeve.com/
